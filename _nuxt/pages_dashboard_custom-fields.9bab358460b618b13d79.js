webpackJsonp([7],{"96Mb":function(t,e,i){"use strict";var a=i("Xxa5"),s=i.n(a),n=i("exGp"),l=i.n(n);e.a={data:function(){return{newTitle:"",newMethod:"",newValue:"",newFilter:!1,validation:"",newCustomFieldLoading:!1,addCustomFieldForm:!1}},created:function(){this.$store.dispatch("getFirebaseDatabase")},computed:{customFields:function(){return this.$store.getters.getField("customFields")},customFieldsValues:function(){return this.$store.getters.getField("customFieldsValues")},dataLoaded:function(){return this.$store.getters.getField("dataLoaded")}},methods:{addItem:function(){var t=l()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:""==this.newTitle||""==this.newMethod?this.validation="Please fill in all the required fields!":("text"==this.newMethod&&(this.newFilter=!1),this.validation="",this.$store.commit("addItem",{title:this.newTitle,type:"custom_fields",filter:this.newFilter,method:this.newMethod}),this.newTitle="",this.newMethod="",this.validation="",this.newFilter=!1,this.newCustomFieldLoading=!1);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),addValue:function(){var t=l()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:""==this.newValue||(this.$store.commit("addItem",{custom_field:e,type:"custom_fields_values",value:this.newValue}),this.newValue="");case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),removeItem:function(t,e){this.$store.commit("removeItem",{id:t,type:e})},updateItem:function(){var t=l()(s.a.mark(function t(e,i,a,n){var l,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"filter"==a?(l=n.target.checked,this.$store.commit("updateItem",{id:e,type:i,field:a,data:l})):(o=n.target.value,this.$store.commit("updateItem",{id:e,type:i,field:a,data:o}));case 1:case"end":return t.stop()}},t,this)}));return function(e,i,a,s){return t.apply(this,arguments)}}()},middleware:["auth"]}},oXVs:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.dataLoaded?i("div",{attrs:{id:"custom-fields"}},[i("div",{staticClass:"dashboard-heading"},[i("h2",[t._v("Custom fields")]),t.addCustomFieldForm?i("button",{attrs:{type:"button"},on:{click:function(e){t.addCustomFieldForm=!1}}},[i("i",{staticClass:"material-icons"},[t._v("list")]),t._v(" List view")]):t._e(),0==t.addCustomFieldForm?i("button",{attrs:{type:"button"},on:{click:function(e){t.addCustomFieldForm=!0}}},[i("i",{staticClass:"material-icons"},[t._v("add")]),t._v(" Add custom field")]):t._e()]),1!=t.newCustomFieldLoading&&1==t.addCustomFieldForm?i("form",{attrs:{id:"new-listing"}},[i("h3",[t._v("Add a custom field")]),i("div",{staticClass:"form-item"},[i("label",{staticClass:"hide",attrs:{for:"name"}},[t._v("Field name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.newTitle,expression:"newTitle"}],attrs:{id:"new-custom-field-title",type:"text",name:"name"},domProps:{value:t.newTitle},on:{input:function(e){e.target.composing||(t.newTitle=e.target.value)}}})]),i("div",{staticClass:"form-item"},[i("label",{staticClass:"hide",attrs:{for:"new-custom-field-method"}},[t._v("Field type")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.newMethod,expression:"newMethod"}],attrs:{id:"new-custom-field-method",name:"type"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.newMethod=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"text"}},[t._v("Text field")]),i("option",{attrs:{value:"single"}},[t._v("Select list")])])]),"text"!=t.newMethod?i("div",{staticClass:"form-item"},[i("label",{staticClass:"hide",attrs:{for:"name"}},[t._v("Use this field as a filter")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.newFilter,expression:"newFilter"}],attrs:{id:"new-custom-field-filter",type:"checkbox",name:"filter"},domProps:{checked:Array.isArray(t.newFilter)?t._i(t.newFilter,null)>-1:t.newFilter},on:{change:function(e){var i=t.newFilter,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=t._i(i,null);a.checked?n<0&&(t.newFilter=i.concat([null])):n>-1&&(t.newFilter=i.slice(0,n).concat(i.slice(n+1)))}else t.newFilter=s}}})]):t._e(),i("div",{staticClass:"form-item"},[""!=t.validation?i("p",{staticClass:"validation-messages"},[t._v(t._s(t.validation))]):t._e(),i("button",{attrs:{type:"submit",name:"action"},on:{click:function(e){e.preventDefault(),t.addItem()}}},[i("i",{staticClass:"material-icons"},[t._v("add")]),t._v(" Add custom field")])])]):t._e(),1==t.newCustomFieldLoading?i("div",{staticClass:"loader white"}):t._e(),0==t.addCustomFieldForm?i("div",{attrs:{clas:"TextSection-wrapper"}},t._l(t.customFields.slice().reverse(),function(e){return i("div",{key:e.id,staticClass:"card",attrs:{lid:e.id}},[i("h3",[t._v(t._s(e.title))]),i("br"),i("div",{staticClass:"card-content white-text"},[i("span",{staticClass:"card-title form-item"},[i("label",[t._v("Field title")]),i("input",{attrs:{type:"text"},domProps:{value:e.title},on:{change:function(i){t.updateItem(e.id,"custom_fields","title",i)}}})]),i("div",{staticClass:"form-item"},[i("label",[t._v("Field type")]),i("select",{on:{change:function(i){t.updateItem(e.id,"custom_fields","method",i)}}},[i("option",{attrs:{value:"text"},domProps:{selected:"text"==e.method}},[t._v("Text field")]),i("option",{attrs:{value:"single"},domProps:{selected:"single"==e.method}},[t._v("Select list")])])]),"text"!=e.method?i("div",{staticClass:"form-item"},[i("label",{staticClass:"hide",attrs:{for:"name"}},[t._v("Use this field as a filter")]),i("input",{attrs:{type:"checkbox"},domProps:{checked:e.filter,value:e.filter},on:{change:function(i){t.updateItem(e.id,"custom_fields","filter",i)}}})]):t._e(),"text"!=e.method?i("div",{staticClass:"form-item",attrs:{id:"custom-field-values"}},[i("form",[i("h4",[t._v("Custom field values")]),t._l(t.customFieldsValues.slice().reverse(),function(a){return a.custom_field==e.id?i("div",{key:a.id,staticClass:"form-item",staticStyle:{overflow:"hidden"}},[i("span",[t._v(t._s(a.value))]),i("span",{staticStyle:{float:"right"}},[i("button",{staticClass:"btn-danger",attrs:{type:"button"},on:{click:function(e){t.removeItem(a.id,"custom_fields_values")}}},[t._v("x")])])]):t._e()})],2),i("form",[i("h4",[t._v("Add field value")]),i("div",{staticClass:"form-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newValue,expression:"newValue"}],attrs:{type:"text"},domProps:{value:t.newValue},on:{input:function(e){e.target.composing||(t.newValue=e.target.value)}}})]),i("div",{staticClass:"form-item"},[i("button",{attrs:{type:"button",name:"action"},on:{click:function(i){t.addValue(e.id)}}},[i("i",{staticClass:"material-icons"},[t._v("add")]),t._v(" Add field value")])])])]):t._e()]),i("div",{staticClass:"card-action black"},[i("button",{staticClass:"btn-danger",attrs:{type:"button"},on:{click:function(i){t.removeItem(e.id,"custom_fields")}}},[i("i",{staticClass:"material-icons"},[t._v("delete")]),t._v(" Delete this field")])])])})):t._e()]):i("div",{staticClass:"loader"})};a._withStripped=!0;var s={render:a,staticRenderFns:[]};e.a=s},rv3A:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("96Mb"),s=i("oXVs"),n=i("VU/8")(a.a,s.a,!1,null,null,null);n.options.__file="pages\\dashboard\\custom-fields.vue",e.default=n.exports}});